data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = preds,
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
write.csv(print_set)
sapply(preds, function(x) sprintf("%f%%", round(x)))
?write.csv
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = preds,
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
write.csv(print_set, "pred.csv")
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = preds,
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
write.csv(print_set, "pred.csv", row.names = F)
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = preds,
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F)
?write.csv
?Encoding
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = Encoding("win-1250"))
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "win-1250")
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 3),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-03_504/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-10-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
# https://www.convertcsv.com/csv-to-pdf.htm
# font-size
data = read.csv("../data/2021-04-10_505/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-17-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-10_505/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-17-prediction/data.csv", sep=";")
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
names = read.csv("../data/2021-04-17-prediction/horseNames.csv", header=F)
names = read.csv("../data/2021-04-17-prediction/horseNames.csv", header=F)
read.csv()
names
names[1]
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
names[pred_data$horseName+1]
names[pred_data$horseName+1,]
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-10_505/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-17-prediction/data.csv", sep=";")
names = read.csv("../data/2021-04-17-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-17_506/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-24-prediction/data.csv", sep=";")
names = read.csv("../data/2021-04-24-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-17_506/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-24-prediction/data.csv", sep=";")
names = read.csv("../data/2021-04-24-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-17_506/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-24-prediction/data.csv", sep=";")
names = read.csv("../data/2021-04-24-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-17_506/data.csv", sep=";")
data$y = data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-24-prediction/data.csv", sep=";")
names = read.csv("../data/2021-04-24-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-04-17_506/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-04-24-prediction/data.csv", sep=";")
names = read.csv("../data/2021-04-24-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-05-01_508/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-05-08-prediction/data.csv", sep=";")
names = read.csv("../data/2021-05-08-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
View(print_set)
View(print_set)
data = read.csv("../data/2021-05-01_508/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-05-08-prediction/data.csv", sep=";")
names = read.csv("../data/2021-05-08-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
data = read.csv("../data/2021-05-08_509/data.csv", sep=";")
data$y = data$vOdds * data$won
data = subset(data, select=c(-Plats., -plats, -result, -won, -pValue))
########## PREDICTION ##########
model = lm(y~., data)
pred_data = read.csv("../data/2021-05-15-prediction/data.csv", sep=";")
names = read.csv("../data/2021-05-15-prediction/horseNames.csv", header=F)
preds = predict(model, newdata=pred_data)
preds[is.na(preds)] = -2.0
print_set = data.frame(
Lopp = pred_data$raceIdx,
Häst_Nummer = pred_data$horseNumber + 1,
Namn = names[pred_data$horseName+1,] ,
Spel_Värde = round(preds, 2),
Vinnar_Odds = pred_data$vOdds,
V75_Procent = sapply(pred_data$betDistribution*100, function(x) sprintf("%d%%", round(x)))
)
print_set[,] = print_set[order(preds, decreasing=T) ,]
print_set[,] = print_set[order(print_set$Lopp) ,]
write.csv(print_set, "pred.csv", row.names = F, fileEncoding = "utf-8")
